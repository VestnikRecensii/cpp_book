\documentclass{article}

\input{common}
\begin{document}
\input{fontsize}

\chaptertitle{Составные части программы}

\maketitle 

\section*{Комментарии}

В прошлой главе после написания первой программы я долго-долго расписывал, что значит каждая строчка. Если программа пишется в течение долгого времени несколькими людьми, содержит неочевидные фрагменты, то в ней просто необходимы пометки. Для того, чтобы оставить пометки непосредственно в программе используются комментарии.

\fordummies{

Комментарий — пояснение к исходному тексту программы, находящееся непосредственно внутри кода. Компилятор при работе игнорирует комментарии, поэтому в них может находиться любой текст, включая русские буквы. На то он и комментарий.

}

В C++ комментарии бывают двух видов --- однострочные \cppword{//} и многострочные \cppword{/**/}. Однострочный превращает в комментарий текст от двойного слэша \cppword{//} до конца строки, а многострочный --- весь текст между символами \cppword{/*} и \cppword{*/}. Вот как выглядит первая программа с комментариями:

\showfile{src/hello_comments.cpp}{Программа с комментариями}

Сразу стало понятнее, верно?

Комментарии можно ставить между двумя лексемами и там, где могут находиться пробелы или концы строк. Можно быстро выключать фрагменты кода, комментируя их.  Разрывать слово комментарием нельзя.

Комментарии должны быть максимально емки и понятны. Их цель --- сделать текст программы проще для восприятия как вам самим, так и другим читателям. Однако, быть Капитаном Очевидность тоже не стоит. Заметьте, есть разница между

\showfile{src/parts/comments1.cpp}{Абсолютно бессмысленный комментарий}

и

\showfile{src/parts/comments2.cpp}{Feel the difference}

Но даже с полезными комментариями стоит быть начеку. Иногда программисты меняют код, а про комментарии забывают. Тогда ситация становится еще хуже. В следующем примере мало того, что комментарий противоречит коду, так еще и непонятно, какое значение правильное.

\showfile{src/parts/comments3.cpp}{Oops}

Будьте внимательнее, грамотно комментируйте сложные фрагменты кода, не забывайте своевременно обновлять комментарии, и работать с текстом вашей программы будет одно удовольствие.

\section*{Отступы}

Если вы уже писали программы, смотрели примеры исходного кода или видели фильмы про хакеров, то знаете, что код обычно оформляют <<лесенкой>> --- различные фрагменты имеют различный отступ. Сделано это для того, чтобы улучшить читаемость. Каждый вложенный блок должен находиться правее родительского и никак иначе. При этом допустимо использовать как знаки табуляции (табы), так и пробелы. Как правило 1 отступ делают равным 4--8 пробелам или 1 табу.

Не допускается:
\begin{itemize}
\itemОбратные отступы, когда вложенный блок находится левее.
\itemИгнорирование отступов.
\itemОтступы разного размера.
\itemСмешивание табов и пробелов.
\itemХаос.
\itemАнархия.
\end{itemize}

Посмотрите на следующие 2 примера:

\showfile{src/bad_indentations.cpp}{Пример}

\showfile{src/good_indentations.cpp}{Еще пример}

Даже не зная языка и не понимая, что здесь написано, можно без труда отличить плохой вариант от хорошего.

Во втором примере вы могли заметить два варианта расстановки скобок.

Такие:

\showfile{src/parts/brackets1.cpp}{Скобки 1}

И такие:

\showfile{src/parts/brackets2.cpp}{Пример}

Первые называют египетскими из-за их схожести с расположением рук на древнеегипетских фресках. Вторые такого красивого названия не имеют, но тоже вполне допустимы.

Некоторые правила оформления не рекомендуют делать строки программы длиннее 80 символов. Это ограничение возникло во времена, когда мониторы могли отображать не больше 80 символов в ширину. Сейчас, в эпоху повсеместного FullHD и 4K это ограничение почти утратило силу и уже не кажется таким обязательным. Однако, следует помнить, что горизонтальную прокрутку никто не любит, а код иногда приходится открывать на устройствах, где есть только текстовый интерфейс, поэтому ищите компромисс между длиной строкой и переносами.

Вообще каких-то всеобщих законов для отступов, комментариев и оформления кода нет, следует просто придерживаться правил, принятых в вашей команде. Если в вашем коллективе используют только египетские скобки и строки до 80 символов, следуйте этим правилам, нельзя использовать многострочные комментарии, не используйте, если есть определенный стандарт оформления, придерживайтесь его. Так вы сделаете проще жизнь и себе, и коллегам.

\section*{Общая структура программы}

\end{document}
