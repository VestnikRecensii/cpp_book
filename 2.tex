\documentclass[book.tex]{subfiles}

%\input{common}
\begin{document}
%\input{fontsize}

\chaptertitle{Типы}

\maketitle 

\section*{Что такое типы}

В повседневной жизни мы регулярно сталкиваемся с классификаций различных объектов. Мы различаем собак и кошек. Кто-то различает марки автомобилей, модели самолетов и вертолетов. Компьютерные игры или фильмы мы часто выбираем по жанру. А когда мы расплачиваемся в магазине, нам важно, что достать из кошелька --- список покупок или денежную купюру. В науке тем или иным образом классифицируется все --- от фундаментальных взаимодействий до животных.

В информационных технологиях классификация данных не менее важна. Работать с изображениями, текстами и числовыми данными нужно по-разному. Для разграничения разных видов данных используют понятие тип данных (тип) --- множество значений и операций на этих значениях. Тип определяет возможные значения и их смысл, операции, а также способы хранения значений типа. Звучит намного сложнее, чем есть на самом деле.

Упрощенно тип данных можно рассматривать как описание, чем является та или иная сущность. Что это --- целое число, строка, символ, массив, какой-то объект и т.п.:

\showfile{src/parts/type1.cpp}{Несколько базовых типов}

Подход к работе с типами бывает разный. Различают статическую и динамическую, а также сильную и слабую типизации.

\fordummies{

Статическая типизация --- подход, при котором некоторая сущность (переменная, параметр подпрограммы, возвращаемое значение функции) связывается с типом в момент объявления и тип не может быть изменён позже. При таком подходе однажды созданная цуелочисленная переменная всегда будет оставаться целым числом и ни при каких обстоятельствах не станет строкой или файлом. Этот подход используется в C, C++, Java и некоторых других языках.

Динамическая типизация --- прием, обратный предыдущему. В нем переменная связывается с типом в момент присваивания значения, а не в момент объявления переменной. Переменная, бывшая когда-то строкой, через некоторое время может стать массивом, а после числом. Такой подход чаще всего используется в скриптовых языках, таких как Python, PHP, Ruby, JavaScript, Perl.

}

\begin{tabularx}{0.95\textwidth}{ | l | >{\hsize=.5\hsize}X | >{\hsize=.5\hsize}X | }
    \hline
    Типизация & Статическая & Динамическая \\\hline
    Преимущества & Самый простой и быстрый машинный код.\newlineМногие ошибки исключаются на стадии компиляции.\newlineЛучшее автодополнение в средах разработки & Легкость в освоении\newlineУдобство описания обобщенных алгоритмов.\newlineПроще работать с внешними данными.\\\hline
    Недостатки & Избыточность написания -- нужно явно указывать типы.\newlineТрудность работы с внешними данными --- JSON, СУБД & Сложнее отладка\newlineНиже производительность --- процессор тратит время на проверку типов\\\hline
\end{tabularx}

\fordummies{

Сильная типизация (иногда говорят строгая) запрещает смешивать сущности разных типов в выражениях. В языках с сильной типизаций автоматические преобразования типов не выполняются. Это такие языки как Java, Python, Haskell.

В слабо типизированных языках смешивание типов в одном выражении разрешено, причем компилятор сам приведет все к единому типу. Также их называют языками с нестрогой типизацией. Это C, JavaScript, Visual Basic, PHP. C++ считается слабо типизированным языком, хотя он более строго относится к преобразованию типов, чем C.

В некоторых слабо типизированных языках автоматически преобразуются только родственные типы, например, числа. А некоторые позвояляют вытворять почти все. В JavaScript, например, допустимы арифметические (!) операции между числом, строкой и массивом. 

}

\begin{tabularx}{0.95\textwidth}{ | l | >{\hsize=.5\hsize}X | >{\hsize=.5\hsize}X | }
    \hline
    Типизация & Сильная & Слабая \\\hline
    Преимущества & Надежность --- вместо неправильного поведения получается ошибка или исключение.\newlineОпределенность --- вы точно знаете, что вы преобразуете и во что, понимая, что такие преобразования могут привести к потере точности и к неверным результатам. & Удобство использования смешанных выражений (например, из целых и вещественных чисел).\newlineАбстрагирование от типизации и сосредоточение на задаче.\newlineКраткость записи. \\\hline
    Недостатки & Избыточность записи --- всегда нужно явно преобразовывать типы & Неоднозначность и отсутствие наглядности. Сложение двух чисел --- однозначная ситуация, а преобразование числа в массив --- нет.\\\hline
\end{tabularx}

\section*{Базовые типы}

В предыдущем пункте упоминались некоторые типы: числа, строки, массивы и т.п. А вот какие типы существуют в C++:

\section*{Скалярные типы}

\section*{Перечисления}

\end{document}
