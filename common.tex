\usepackage [utf8] {inputenc}
\usepackage [T2A] {fontenc}
\usepackage[english, russian]{babel}
\usepackage[left=2cm,right=2cm, top=2cm,bottom=2cm,bindingoffset=0cm]{geometry} % page settings
\usepackage[usenames]{color}
\usepackage{colortbl}
\usepackage{xcolor}
\usepackage{framed}
\usepackage{caption,subcaption}
\usepackage{listingsutf8}
\usepackage{titling}
\usepackage{soulpos}
\usepackage{soul}
\usepackage{tabularx}
% \usepackage{indentfirst} %uncomment for indent in first paragraphs

\definecolor{lightcyan}{rgb}{0.88, 1.0, 1.0}

\lstset{
	extendedchars=true,
	keepspaces=true,
	literate={а}{{\selectfont\char224}}1
           {б}{{\selectfont\char225}}1
           {в}{{\selectfont\char226}}1
           {г}{{\selectfont\char227}}1
           {д}{{\selectfont\char228}}1
           {е}{{\selectfont\char229}}1
           {ё}{{\"e}}1
           {ж}{{\selectfont\char230}}1
           {з}{{\selectfont\char231}}1
           {и}{{\selectfont\char232}}1
           {й}{{\selectfont\char233}}1
           {к}{{\selectfont\char234}}1
           {л}{{\selectfont\char235}}1
           {м}{{\selectfont\char236}}1
           {н}{{\selectfont\char237}}1
           {о}{{\selectfont\char238}}1
           {п}{{\selectfont\char239}}1
           {р}{{\selectfont\char240}}1
           {с}{{\selectfont\char241}}1
           {т}{{\selectfont\char242}}1
           {у}{{\selectfont\char243}}1
           {ф}{{\selectfont\char244}}1
           {х}{{\selectfont\char245}}1
           {ц}{{\selectfont\char246}}1
           {ч}{{\selectfont\char247}}1
           {ш}{{\selectfont\char248}}1
           {щ}{{\selectfont\char249}}1
           {ъ}{{\selectfont\char250}}1
           {ы}{{\selectfont\char251}}1
           {ь}{{\selectfont\char252}}1
           {э}{{\selectfont\char253}}1
           {ю}{{\selectfont\char254}}1
           {я}{{\selectfont\char255}}1
           {А}{{\selectfont\char192}}1
           {Б}{{\selectfont\char193}}1
           {В}{{\selectfont\char194}}1
           {Г}{{\selectfont\char195}}1
           {Д}{{\selectfont\char196}}1
           {Е}{{\selectfont\char197}}1
           {Ё}{{\"E}}1
           {Ж}{{\selectfont\char198}}1
           {З}{{\selectfont\char199}}1
           {И}{{\selectfont\char200}}1
           {Й}{{\selectfont\char201}}1
           {К}{{\selectfont\char202}}1
           {Л}{{\selectfont\char203}}1
           {М}{{\selectfont\char204}}1
           {Н}{{\selectfont\char205}}1
           {О}{{\selectfont\char206}}1
           {П}{{\selectfont\char207}}1
           {Р}{{\selectfont\char208}}1
           {С}{{\selectfont\char209}}1
           {Т}{{\selectfont\char210}}1
           {У}{{\selectfont\char211}}1
           {Ф}{{\selectfont\char212}}1
           {Х}{{\selectfont\char213}}1
           {Ц}{{\selectfont\char214}}1
           {Ч}{{\selectfont\char215}}1
           {Ш}{{\selectfont\char216}}1
           {Щ}{{\selectfont\char217}}1
           {Ъ}{{\selectfont\char218}}1
           {Ы}{{\selectfont\char219}}1
           {Ь}{{\selectfont\char220}}1
           {Э}{{\selectfont\char221}}1
           {Ю}{{\selectfont\char222}}1
           {Я}{{\selectfont\char223}}1
}

\lstdefinestyle{shared}
{
    numbers=left,
    numbersep=1em,
    frame=single,
    framesep=\fboxsep,
    framerule=\fboxrule,
    rulecolor=\color{red},
    xleftmargin=\dimexpr\fboxsep+\fboxrule\relax,
    xrightmargin=\dimexpr\fboxsep+\fboxrule\relax,
    breaklines=true,
    tabsize=2,
    columns=flexible,
}

\lstdefinestyle{cpp}
{
    style=shared,
    language={C++},
    %alsolanguage={[Sharp]C},
    basicstyle=\small\tt,
    keywordstyle=\color{blue},
    commentstyle=\color[rgb]{0.13,0.54,0.13},
    backgroundcolor=\color{lightcyan},
    stringstyle=\color{orange},
    showstringspaces=false,
    basicstyle=\fontsize{12}{14}\selectfont\ttfamily
}

\lstnewenvironment{cpp}
{\lstset{style=cpp}}
{}

\definecolor{shadecolor}{RGB}{230,230,230}
\title{Введение в C++}
\author{Ярослав Зотов}
\date{Февраль 2018}

\newcommand{\fordummies}[1]{
    \begin{snugshade*}
        #1
    \end{snugshade*}
} %Text format for dumiies

\newcommand{\cppword}[1]{\sethlcolor{lightcyan}\hl{\textbf{#1}}}

\newcommand{\chaptertitle}[1]{
	\setlength{\voffset}{-7ex}
	\title{\textbf{\Huge #1}}
	\author{\vspace{-1ex}}
	\date{\vspace{-7ex}}
}

\newcommand{\showfile}[2] {
	\lstset{
		language=C++,
		caption={#2}, 
		captionpos=b,
		style=cpp
	}
	\lstinputlisting{#1}
}
